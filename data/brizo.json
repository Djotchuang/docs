{
  "definitions": {},
  "info": {
    "description": "Brizo is the technical component executed by Publishers allowing them to provide extended data services. When running with our Docker images, it is exposed under `http://localhost:8030`.",
    "title": "Brizo",
    "version": "0.3.5"
  },
  "paths": {
    "/api/v1/brizo/services/access/initialize": {
      "post": {
        "consumes": ["application/json"],
        "description": "",
        "parameters": [
          {
            "description": "Service agreement initialization.",
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "properties": {
                "consumerAddress": {
                  "description": "Consumer address.",
                  "example": "0x00a329c0648769A73afAc7F9381E08FB43dBEA72",
                  "type": "string"
                },
                "did": {
                  "description": "Identifier of the asset registered in ocean.",
                  "example": "did:op:08a429b8529856d59867503f8056903a680935a76950bb9649785cc97869a43d",
                  "type": "string"
                },
                "serviceAgreementId": {
                  "description": "Identifier of the service agreement.",
                  "example": "bb23s87856d59867503f80a690357406857698570b964ac8dcc9d86da4ada010",
                  "type": "string"
                },
                "serviceDefinitionId": {
                  "description": "Identifier of the service definition.",
                  "example": "0",
                  "type": "string"
                },
                "signature": {
                  "description": "Signature",
                  "example": "cade376598342cdae231321a0097876aeda656a567a67c6767fd8710129a9dc1",
                  "type": "string"
                }
              },
              "required": [
                "did",
                "serviceAgreementId",
                "serviceDefinitionId",
                "signature",
                { "consumerAddress": null }
              ],
              "type": "object"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Service agreement successfully initialized."
          },
          "400": {
            "description": "One of the required attributes is missing."
          },
          "401": { "description": "Error executing the service agreement." },
          "422": { "description": "Ocean DID not found on chain." },
          "500": { "description": "Error" }
        },
        "summary": "Initialize the service agreement between the publisher and the consumer.",
        "tags": ["services"]
      }
    },
    "/api/v1/brizo/services/consume": {
      "get": {
        "consumes": ["application/json"],
        "description": "",
        "parameters": [
          {
            "description": "The consumer address.",
            "in": "query",
            "name": "consumerAddress",
            "required": true,
            "type": "string"
          },
          {
            "description": "The ID of the service agreement.",
            "in": "query",
            "name": "serviceAgreementId",
            "required": true,
            "type": "string"
          },
          {
            "description": "This URL is only valid if Brizo acts as a proxy. Consumer can't download using the URL if it's not through Brizo.",
            "in": "query",
            "name": "url",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": { "description": "Redirect to valid asset url." },
          "400": {
            "description": "One of the required attributes is missing."
          },
          "401": { "description": "Invalid asset data." },
          "500": { "description": "Error" }
        },
        "summary": "Allows download of asset data file.",
        "tags": ["services"]
      }
    }
  },
  "swagger": "2.0"
}
